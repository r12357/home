<!DOCTYPE html>
<html lang="ja">

<head>
    <title>JavaScriptで数値解析</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width = device-width">
    <link rel="stylesheet" href="main.css">

    <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <script src = "https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <h1 id = "title">JavaScriptで数値解析</h1>
    JavaScriptの簡単な入門と，JavaScriptを用いた簡単な数値解析を行う．
まず，定番の「Hello World」は以下をJsファイルに書くことで実行できる．
    <pre>
        <code>
console.log("Hello World!");
        </code>
    </pre>
    console.logなのでコンソールに出力されるのですが，コンソールはウェブページ上で
    開発者モードを開くとコンソールタブがあるので，そちらで確認できる．
    具体的には，Chromeでは右上のケバブメニューをクリックし，
    <figure>
        <div style="text-align: center;">
            <img src="developer_tool_screenshot.png">
            <figcaption>step1</figcaption>
        </div>
    </figure>    
    デベロッパーツールを選択する．
    <figure>
        <div style="text-align: center;">
            <img src="console_screenshot.png">
            <figcaption>step2</figcaption>
        </div>
    </figure>
    F12キーを押すことでもデベロッパーツールを起動できる．
    <br><br>
    行の終わりにはセミコロンが必要だが，殆どの場合改行がセミコロンをを意味するので
    次のようなコードでもエラーが出ることはない．
    <pre>
        <code>
console.log("Hello")
console.log("World!")
        </code>
    </pre>
    しかし，次の場合は改行がセミコロンを意味しない．
    <pre>
        <code>
console.log(1 + 
    2 +
    3);
        </code>
    </pre>
    しかし，普通はセミコロンはつけるものである．<br><br>
    コメントはスラッシュ2つである．
    <pre>
        <code>
// この行はコメントになる．

console.log("hoge"); // hogeがコンソールに出力される．
        </code>
    </pre>
    複数行のコメントは/*で始まり，*/で終わる．
    <pre>
        <code>
/*
コメントだお
いっぱいコメント
たくさんのコメント
数え切れないコメント
*/
        </code>
    </pre>
    変数を宣言するには以下のようにします．
    <pre>
        <code>
let message;
        </code>
    </pre>
    =を用いてデータを代入することが出来ます．
    <pre>
        <code>
let message;

message = "Hello";
        </code>
    </pre>
    あなたが期待するように以下のようにも入力できます．
    <pre>
        <code>
let message = "Hello";

let name = "Jesus", age = "2024", message = "true love";
        </code>
    </pre>
    letは再宣言が不可能である．つまり
    <pre>
        <code>
let where = "do we come from?";
let what = "are we?";
let where = "are we going?";
        </code>
    </pre>
    とすると，
    <pre>
        <code>
SyntaxError: Identifier 'where' has already been declared
        </code>
    </pre>
    というエラーがでる．<br>
    letの他にvarというものがあり，letとほとんど同じ動作をする．
    <pre>
        <code>
var message;
        </code>
    </pre>
    しかし，大きな違いとして，再宣言が可能である．
    <pre>
        <code>
var where = "do we come from?";
var what = "are we?";
var where = "are we going?";
        </code>
    </pre>
    としても問題ないのである．
    個人的にはバグを引き起こすことになり得るので非推奨である．<br>
    定数を宣言するには，letの代わりにconstを用います．
    <pre>
        <code>
const math = "good";
const level = "9999";
        </code>
    </pre>
    さて次に，データ型について解説しよう．<br>
    今まで変数を宣言する際にデータ型は明記されていなかった．
    <pre>
        <code>
// エラーなし
let message = "hello";
message = 999999;
        </code>
    </pre>
    つまり，JavaScriptは動的型付けなのである．<br>
    数値の演算は以下のように行うことが出来る．
    <pre>
        <code>
let n = 2 * 4; // n = 8
let n = 10 / 2; // n = 5
let n = 1 / 3; // n = 0.3333333333333333
let n = 1 / 0; // n = Infinity
let n = -1 / 0; // n = -Infinity
let n = "not a number" / 1; // n = NaN
        </code>
    </pre>
    <input type = "radio" id = "calculate_binary_plus" name = "calculate_binary" value = "0" checked>
    <label for = "calculate_binary_plus">和</label>
    <input type = "radio" id = "calculate_binary_minus" name = "calculate_binary" value = "1">
    <label for = "calculate_binary_minus">差</label>
    <input type = "radio" id = "calculate_binary_product" name = "calculate_binary" value = "2">
    <label for = "calculate_binary_product">積</label>
    <input type = "radio" id = "calculate_binary_quotient" name = "calculate_binary" value = "3">
    <label for = "calculate_binary_quotient">商</label>
    <br>
    <label for="number1">数値1:</label>
    <input type="number" id="product_number1" placeholder="数値を入力">
    <br>
    <label for="number2">数値2:</label>
    <input type="number" id="product_number2" placeholder="数値を入力">
    <br>
    <button onclick="calculate0()">計算する</button>
    <br><br>
    次に条件分岐について解説する．
    <pre>
        <code>
let breakfast = "bread";
if (breakfast == "rice") {
    console.log("So Good!");
} else {
    console.log("You are died");
}
        </code>
    </pre>
    これはbreakfastがriceならSo Good!が出力され，そうでないならYou are diedが出力される．
    なにかプログラミング言語を触れたことがある人なら馴染み深いであろう．
    いくつかの条件をテストするにはelse ifを用いる．
    <pre>
        <code>
let age = 100;

if (age &lt; 1000) {
    console.log("young");
} else if (age &gt; 10000) {
    console.log("old");
} else {
    console.log("normal");
}
        </code>
    </pre>
    三項演算子?<br>
    C言語にもある疑問符演算子はJavaScriptでも使用することが出来る．
    <pre>
        <code>
let result = condition ? value1 : value2;
        </code>
    </pre>
    conditionが評価され，真であればvalue1が返ってきて，そうでなければ，value2が返ってくる．
    <pre>
        <code>
let akaten = (score &lt; 60) ? "赤点だよ" : "提出物だしてる？";
        </code>
    </pre>
    これはscoreが60未満であればakatenに"赤点だよ"が代入され
    60以上だと"提出物だしてる？"が代入される．<br><br>
    次に繰り返し処理について解説する．<br>
    while文は次のとおりである．
    <pre>
        <code>
while (condition){
    // 処理を書く
}
        </code>
    </pre>
    conditionがtrueの間処理の部分が実行される．<br>
    次にfor文
    <pre>
        <code>
for (begin; condition; step){
    // 処理を書く
}
        </code>
    </pre>
    大抵の場合以下のようにする．
    <pre>
        <code>
for (let i = 0; i &lt; 10; i++){
    console.log(i);
} 
/*
出力は
0
1
2
3
4
5
6
7
8
9
*/
        </code>
    </pre>
    break文を挿入するとループを脱出することができる．
    <pre>
        <code>
for (let i = 0; i &lt; 10000; i++) {
    console.log(i);
    if (i == 3) break;
}
/*
出力は
0
1
2
3
*/
        </code>
    </pre>
    continue文は次のループにする命令である．
    <pre>
        <code>
for (let i = 0; i &lt; 20; i++) {
    if (i % 5 != 0) {
        continue;
    }
    console.log(i);
}
/*
出力は，
0
5
10
15
*/
        </code>
    </pre>
    次に，関数について説明しよう．<br>
    関数は次のように作成する．
    <pre>
        <code>
function function_name(argument1, argument2,...) {
    // 処理を書く
    return return_value;
}
        </code>
    </pre>
    returnや引数は省略することが出来る．
    <pre>
        <code>
function greet(name) {
    return "Hello, " + name + "!";
}

console.log(greet("Alice")); // "Hello, Alice!"
        </code>
    </pre>
    関数内で宣言された変数は，関数内でのみ参照可能です．
    また，関数の外にある変数を参照することができ，更に変更することも出来ます．
    <pre>
        <code>
let number = 666;

function hoge() {
    number = 10;
}

console.log(number); // 666

hoge();

console.log(number); // 10
        </code>
    </pre>
    次にJavaScriptを用いて数値解析を行ってみよう．最初に
    次の微分方程式を考えてみよう．
    <div class = "formula">
        \[ \frac{\text{d}y}{\text{d}t} = ky \]
    </div>
    これは指数関数的な成長などを表す基本的な方程式である．これ自体は
    簡単に解ける微分方程式である．実際\(y(0) = 1\)とすると
    <div class = "formula">
        \[ y(t) = e^{kt} \]
    </div>
    となる．<br>
    代表的な微分方程式の数値解法は
    <ul>
        <li>オイラー法</li>
        <li>ルンゲ・クッタ法</li>
    </ul>
    だが，より易しいオイラー法を用いる．<br>
    <label for="number1">\(k\):</label>
    <input type="number" id="problem0_k" value = "0.1" placeholder="数値を入力">
    <br>
    <label for="number2">\(dt\):</label>
    <input type="number" id="problem0_dt" min = "0" max = "10" value = "0.1" placeholder="数値を入力">
    \( 0 &lt; dt &lt; 10\)
    <br>
    <button onclick="problem0()">グラフをプロットする</button>
    
    <div class="canvas-parent" id="canvasParent0">
        <canvas id="canvas"></canvas>
    </div>
    次に
    <div class = "formula">
        \[\frac{\text{d}^{2}y}{\text{d}t^{2}} = -\omega^2 y \]
    </div>
    という，単振動の微分方程式を考えよう．この方程式の解はよく知られていて，
    <div class = "formula">
        \[ y(t) = A\cos(\omega t) + B\sin(\omega t)\]
    </div>
    で与えられる．
    <div class="canvas-parent" id="canvasParent1">
        <canvas id="canvas1"></canvas>
    </div>

    <h2>参考サイト</h2>
    <a href = "https://ja.javascript.info/">javascript.info</a><br>
    <a href = "https://ocw.nagoya-u.jp/files/58/11.pdf">オイラー法</a>
    <br>
    <br>
    本コンテンツの作成時間（HTML/CSS/JavaScriptの設計・実装を含む）:約7時間
<script src = "numerical_analysis.js"></script>
</body>

</html>